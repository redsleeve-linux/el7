From a13d964ab5b76816a38170f569c3edb4cbe3e06d Mon Sep 17 00:00:00 2001
From: David Kupka <dkupka@redhat.com>
Date: Tue, 16 Aug 2016 16:49:57 +0200
Subject: [PATCH] compat: Fix ping command call

Remove extra argument from client.forward call.

https://fedorahosted.org/freeipa/ticket/6095

Reviewed-By: Jan Cholasta <jcholast@redhat.com>
---
 ipaclient/remote_plugins/compat.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/ipaclient/remote_plugins/compat.py b/ipaclient/remote_plugins/compat.py
index b6d099a075deaaa17143f8ddddfb11d97b75f0ed..5e08cb0ed73becbc17e724864d1a853142a5ef6f 100644
--- a/ipaclient/remote_plugins/compat.py
+++ b/ipaclient/remote_plugins/compat.py
@@ -41,7 +41,7 @@ def get_package(api, server_info, client):
         try:
             server_version = env['result']['api_version']
         except KeyError:
-            ping = client.forward(u'ping', u'api_version', version=u'2.0')
+            ping = client.forward(u'ping', version=u'2.0')
             try:
                 match = re.search(u'API version (2\.[0-9]+)', ping['summary'])
             except KeyError:
-- 
2.7.4

