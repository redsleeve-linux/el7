From c5ac7b8d107300265d16424ad0fb5a754446b2e8 Mon Sep 17 00:00:00 2001
Message-Id: <c5ac7b8d107300265d16424ad0fb5a754446b2e8@dist-git>
From: Peter Krempa <pkrempa@redhat.com>
Date: Wed, 24 Aug 2016 16:11:00 -0400
Subject: [PATCH] qemu: capabilities: Drop unused function
 virQEMUCapsGetMachineTypes

https://bugzilla.redhat.com/show_bug.cgi?id=1097930
https://bugzilla.redhat.com/show_bug.cgi?id=1224341

(cherry picked from commit d2d5a9112606d1dd2478236ea9034423cdfc0c5a)
---
 src/qemu/qemu_capabilities.c | 8 --------
 src/qemu/qemu_capabilities.h | 2 --
 2 files changed, 10 deletions(-)

diff --git a/src/qemu/qemu_capabilities.c b/src/qemu/qemu_capabilities.c
index f41c8c4..56fefbb 100644
--- a/src/qemu/qemu_capabilities.c
+++ b/src/qemu/qemu_capabilities.c
@@ -2239,14 +2239,6 @@ size_t virQEMUCapsGetCPUDefinitions(virQEMUCapsPtr qemuCaps,
 }
 
 
-size_t virQEMUCapsGetMachineTypes(virQEMUCapsPtr qemuCaps,
-                                  char ***names)
-{
-    if (names)
-        *names = qemuCaps->machineTypes;
-    return qemuCaps->nmachineTypes;
-}
-
 int virQEMUCapsGetMachineTypesCaps(virQEMUCapsPtr qemuCaps,
                                    size_t *nmachines,
                                    virCapsGuestMachinePtr **machines)
diff --git a/src/qemu/qemu_capabilities.h b/src/qemu/qemu_capabilities.h
index ba9556d..ac1593d 100644
--- a/src/qemu/qemu_capabilities.h
+++ b/src/qemu/qemu_capabilities.h
@@ -422,8 +422,6 @@ int virQEMUCapsAddCPUDefinition(virQEMUCapsPtr qemuCaps,
                                 const char *name);
 size_t virQEMUCapsGetCPUDefinitions(virQEMUCapsPtr qemuCaps,
                                     char ***names);
-size_t virQEMUCapsGetMachineTypes(virQEMUCapsPtr qemuCaps,
-                                  char ***names);
 const char *virQEMUCapsGetCanonicalMachine(virQEMUCapsPtr qemuCaps,
                                            const char *name);
 int virQEMUCapsGetMachineMaxCpus(virQEMUCapsPtr qemuCaps,
-- 
2.10.0

