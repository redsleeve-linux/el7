From 9dc18e55f33d5148c5a08510dcf3a64ce21a910e Mon Sep 17 00:00:00 2001
Message-Id: <9dc18e55f33d5148c5a08510dcf3a64ce21a910e@dist-git>
From: Martin Kletzander <mkletzan@redhat.com>
Date: Tue, 2 Aug 2016 13:32:34 +0200
Subject: [PATCH] qemu: Remove unnecessary label and its only reference

https://bugzilla.redhat.com/show_bug.cgi?id=1168453

Signed-off-by: Martin Kletzander <mkletzan@redhat.com>
(cherry picked from commit 779a4ea9066560b92b0df462b5a6d5c127c15920)
Signed-off-by: Martin Kletzander <mkletzan@redhat.com>
---
 src/qemu/qemu_domain.c | 8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

diff --git a/src/qemu/qemu_domain.c b/src/qemu/qemu_domain.c
index 383356d..c74033b 100644
--- a/src/qemu/qemu_domain.c
+++ b/src/qemu/qemu_domain.c
@@ -4114,7 +4114,6 @@ qemuDomainCheckDiskPresence(virQEMUDriverPtr driver,
                             virDomainObjPtr vm,
                             bool cold_boot)
 {
-    int ret = -1;
     size_t i;
 
     VIR_DEBUG("Checking for disk presence");
@@ -4141,13 +4140,10 @@ qemuDomainCheckDiskPresence(virQEMUDriverPtr driver,
         if (qemuDomainCheckDiskStartupPolicy(driver, vm, idx, cold_boot) >= 0)
             continue;
 
-        goto error;
+        return -1;
     }
 
-    ret = 0;
-
- error:
-    return ret;
+    return 0;
 }
 
 /*
-- 
2.9.2

