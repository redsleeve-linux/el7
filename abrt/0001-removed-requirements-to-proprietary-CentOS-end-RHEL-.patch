From 2af5abdd69ec95b95f661fe001782999f4f4a957 Mon Sep 17 00:00:00 2001
From: Jacco Ligthart <jacco@redsleeve.org>
Date: Sun, 5 Apr 2020 13:18:10 +0200
Subject: [PATCH] removed requirements to proprietary CentOS end RHEL libreport

---
 SPECS/abrt.spec | 47 +++++++++++++++++++++++++----------------------
 1 file changed, 25 insertions(+), 22 deletions(-)

diff --git a/SPECS/abrt.spec b/SPECS/abrt.spec
index b3b456e..17ff4f8 100644
--- a/SPECS/abrt.spec
+++ b/SPECS/abrt.spec
@@ -33,7 +33,7 @@
 Summary: Automatic bug detection and reporting tool
 Name: abrt
 Version: 2.1.11
-Release: 57%{?dist}
+Release: 57%{?dist}.redsleeve
 License: GPLv2+
 Group: Applications/System
 URL: https://abrt.readthedocs.org/
@@ -405,7 +405,7 @@ Patch324: 0324-daemon-avoid-infinite-crash-loops.patch
 # autogen.sh is need to regenerate all the Makefile files
 Patch1006: 1000-Add-autogen.sh.patch
 Patch1000: 1000-event-don-t-run-the-reporter-bugzilla-h-on-RHEL-and-.patch
-Patch1002: 1002-plugin-set-URL-to-retrace-server.patch
+#Patch1002: 1002-plugin-set-URL-to-retrace-server.patch
 Patch1004: 1004-turn-sosreport-off.patch
 Patch1005: 1005-cli-list-revert-patch-7966e5737e8d3af43b1ecdd6a82323.patch
 
@@ -455,9 +455,9 @@ Requires: python-dbus
 Requires: dmidecode
 %endif
 Requires: libreport-plugin-ureport >= %{libreport_ver}
-%if 0%{?rhel}
-Requires: libreport-plugin-rhtsupport
-%endif
+#%if 0%{?rhel}
+#Requires: libreport-plugin-rhtsupport
+#%endif
 
 # we used to have abrt-plugin-bodhi, but we have removed it
 # and we want allow users to update abrt without necessity to
@@ -640,14 +640,14 @@ Requires: abrt-addon-ccpp
 Requires: abrt-addon-python
 Requires: abrt-addon-xorg
 %if 0%{?rhel}
-%if 0%{?centos_ver}
-Requires: libreport-centos >= %{libreport_ver}
-Requires: libreport-plugin-mantisbt >= %{libreport_ver}
-%else
-Requires: libreport-rhel >= %{libreport_ver}
-Requires: libreport-plugin-rhtsupport >= %{libreport_ver}
-%endif
-%else
+#%if 0%{?centos_ver}
+#Requires: libreport-centos >= %{libreport_ver}
+#Requires: libreport-plugin-mantisbt >= %{libreport_ver}
+#%else
+#Requires: libreport-rhel >= %{libreport_ver}
+#Requires: libreport-plugin-rhtsupport >= %{libreport_ver}
+#%endif
+#%else
 Requires: abrt-retrace-client
 Requires: libreport-plugin-bugzilla >= %{libreport_ver}
 Requires: libreport-plugin-logger >= %{libreport_ver}
@@ -679,19 +679,19 @@ Requires: elfutils
 Requires: abrt-gui
 Requires: gnome-abrt
 %if 0%{?rhel}
-%if 0%{?centos_ver}
-Requires: libreport-centos >= %{libreport_ver}
-Requires: libreport-plugin-mantisbt >= %{libreport_ver}
-%else
-Requires: libreport-rhel >= %{libreport_ver}
-Requires: libreport-plugin-rhtsupport >= %{libreport_ver}
-%endif
-%else
+#%if 0%{?centos_ver}
+#Requires: libreport-centos >= %{libreport_ver}
+#Requires: libreport-plugin-mantisbt >= %{libreport_ver}
+#%else
+#Requires: libreport-rhel >= %{libreport_ver}
+#Requires: libreport-plugin-rhtsupport >= %{libreport_ver}
+#%endif
+#%else
 Requires: abrt-retrace-client
 Requires: libreport-plugin-bugzilla >= %{libreport_ver}
 Requires: libreport-plugin-logger >= %{libreport_ver}
 Requires: libreport-plugin-ureport >= %{libreport_ver}
-Requires: libreport-fedora >= %{libreport_ver}
+#Requires: libreport-fedora >= %{libreport_ver}
 %endif
 #Requires: abrt-plugin-firefox
 Provides: bug-buddy = 2.28.0
@@ -1245,6 +1245,9 @@ gtk-update-icon-cache %{_datadir}/icons/hicolor &>/dev/null || :
 %config(noreplace) %{_sysconfdir}/profile.d/abrt-console-notification.sh
 
 %changelog
+* Sun Apr 05 2020 Jacco Ligthart <jacco@redsleeve.org> - 2.1.11-57.el7.redsleeve
+- removed requirements to proprietary CentOS end RHEL libreport packages
+
 * Tue Mar 31 2020 CentOS Sources <bugs@centos.org> - 2.1.11-57.el7.centos
 - Drop RHTS hint
 -  Change by David Mansfield <david@orthanc.cobite.com>
-- 
1.8.3.1

