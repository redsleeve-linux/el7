From c7ddd5debec6a4cc2d215cfd8bb0786769ae6712 Mon Sep 17 00:00:00 2001
From: Jan Jansky <jjansky@redhat.com>
Date: Fri, 12 Mar 2021 16:42:13 +0100
Subject: [PATCH] [filesys] never collect content of /proc/fs/panfs

Backport #2262 to legacy-3.9.

Related: #2262
Resolves: #2447

Signed-off-by: Jan Jansky <jjansky@redhat.com>
Signed-off-by: Jake Hunsaker <jhunsake@redhat.com>
---
 sos/plugins/filesys.py | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/sos/plugins/filesys.py b/sos/plugins/filesys.py
index cba662a..138ba15 100644
--- a/sos/plugins/filesys.py
+++ b/sos/plugins/filesys.py
@@ -42,6 +42,8 @@ class Filesys(Plugin, DebianPlugin, UbuntuPlugin):
             "lslocks"
         ])
 
+        self.add_forbidden_path('/proc/fs/panfs')
+
         if self.get_option('lsof'):
             self.add_cmd_output("lsof -b +M -n -l -P", root_symlink="lsof")
 
-- 
1.8.3.1

