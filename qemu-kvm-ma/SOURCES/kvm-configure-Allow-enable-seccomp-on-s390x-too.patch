From eb80abd49652e09d10b44da5a75c753e76ef5beb Mon Sep 17 00:00:00 2001
From: Thomas Huth <thuth@redhat.com>
Date: Mon, 2 Oct 2017 07:04:17 +0200
Subject: [PATCH 02/34] configure: Allow --enable-seccomp on s390x, too

RH-Author: Thomas Huth <thuth@redhat.com>
Message-id: <1506927858-5400-2-git-send-email-thuth@redhat.com>
Patchwork-id: 76788
O-Subject: [RHEL-7.5 qemu-kvm-ma PATCH 1/2] configure: Allow --enable-seccomp on s390x, too
Bugzilla: 1491647
RH-Acked-by: Eduardo Otubo <otubo@redhat.com>
RH-Acked-by: Markus Armbruster <armbru@redhat.com>
RH-Acked-by: Stefan Hajnoczi <stefanha@redhat.com>

libseccomp supports s390x since version 2.3.0, and I was able to start
a VM with "-sandbox on" without any obvious problems by using this patch,
so it should be safe to allow --enable-seccomp on s390x nowadays, too.

Signed-off-by: Thomas Huth <thuth@redhat.com>
Message-Id: <1505385363-27717-1-git-send-email-thuth@redhat.com>
Acked-by: Christian Borntraeger <borntraeger@de.ibm.com>
Acked-by: Eduardo Otubo <otubo@redhat.com>
Acked-by: Halil Pasic <pasic@linux.vnet.ibm.com>
Signed-off-by: Cornelia Huck <cohuck@redhat.com>
(cherry picked from commit 3aa35fcffcf0fe22ac48d4277ed6057ae3e57ce0)
Signed-off-by: Miroslav Rezanina <mrezanin@redhat.com>
---
 configure | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/configure b/configure
index 355c364..5cb65d0 100755
--- a/configure
+++ b/configure
@@ -2050,7 +2050,7 @@ if test "$seccomp" != "no" ; then
     arm|aarch64)
         libseccomp_minver="2.2.3"
         ;;
-    ppc|ppc64)
+    ppc|ppc64|s390x)
         libseccomp_minver="2.3.0"
         ;;
     *)
-- 
1.8.3.1

